{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Layout from '../components/Layout';\nimport Fetch from 'isomorphic-unfetch';\nimport Price from '../components/Prices'; // const rp = require('request-promise');\n// import rp from 'request-promise'\n\nfunction App(props) {\n  const {\n    0: data,\n    1: setData\n  } = useState({\n    hits: []\n  });\n  return __jsx(Layout, null, __jsx(\"div\", null, __jsx(\"h1\", null, \" Welcome to Bitzprice\"), __jsx(\"p\", null, \"Check current Bitcoin Repo Rate: \"), __jsx(Price, {\n    bpi: props.bpi,\n    cmc: props.cmc\n  })));\n}\n\nApp.getInitialProps = async function () {\n  const res = await fetch('https://api.coindesk.com/v1/bpi/currentprice.json');\n  const data = await res.json();\n  const apiKey = 'f2b2d0f3-dc44-4a31-86b2-f851da69ac54';\n  let url = \"https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest\",\n      qString = \"?CMC_PRO_API_KEY=\" + apiKey + \"&sort=market_cap&start=1&cryptocurrency_type=tokens\";\n  const res2 = await fetch(url + qString, {\n    mode: \"no-cors\"\n  });\n  const data2 = await res2.json();\n  console.log(data2.data[0]);\n  return {\n    bpi: data.bpi,\n    cmc: data2\n  };\n};\n\nexport default App;","map":null,"metadata":{},"sourceType":"module"}